<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Mi Proyecto</title>
    <link rel="stylesheet" href="../css_MiPerfil/basic_style.css">
    <link rel="stylesheet" href="../css_MiPerfil/editar_style.css">

</head>
<body>

    <%= it.navbar %>
        <!-- Columna izquierda -->
        <section class="perfil">
            <div id="contenedor_foto" style="background-image: url('<%= it.usuario.direccionURLFotoBackground %>');">

                <div class="foto">

                    <% if (it.usuario.direccionURLFotoPerfil == "") { %>
                        <div id="contenedor_foto_perfil">
                            <img src="https://static.vecteezy.com/system/resources/previews/005/544/718/non_2x/profile-icon-design-free-vector.jpg" 
                            alt="Foto de perfil" id="foto_perfil">
                        </div>
                    <% } else { %>
                        <div id="contenedor_foto_perfil">
                            <img src="<%= it.usuario.direccionURLFotoPerfil %>" 
                            alt="Foto de perfil" id="foto_perfil">
                        </div>
                    <% } %>

                </div>
            </div>
            
            <div id="contenedor_selector_imagen">
                <div>
                    <button id="cambiar_background_btn">Cambiar Background</button>
                    <input type="file" id="backgroung_img" accept="image/*" style="display: none;">
                    <button id="cambiar_perfil_btn">Cambiar imagen de perfil</button>
                    <input type="file" id="perfil_img" accept="image/*" style="display: none;">
                </div>
            </div>

            <h1 id="nombre_usuario"><%= it.usuario.nombreUsuario %></h1>

                <div id="info_personal_inputs">
                    <div>
                        <input 
                            type="text" 
                            name="rol" 
                            id="rol" 
                            class="sobre_mi"
                            maxlength="20" 
                            value="<%= it.usuario.titularUsuario %>"
                            required
                        >
                    </div>
                    <div>
                        <textarea 
                            name="sobre_mi" 
                            id="sobre_mi" 
                            class="sobre_mi"
                            maxlength="150" 
                            rows="5" 
                            cols="33"
                            required><%= it.usuario.descripcionUsuario %></textarea>
                    </div>
                </div>

                <p class="puntuacion">Esto será calculado en base a algo</p>

                <!-- Botones para guardar o cancelar -->
                <button type="submit" id="guardar_btn">Guardar</button>
                <a href="/verMiPerfil"><button type="button" id="cancelar_btn">Cancelar</button></a>
        </section>

        <!-- Columna derecha -->
        <section class="detalles">
            <div class="certificados">
                <h3>Links</h3>
                </li>
                <ul id="mis_redes">
                    <li class="red_social">
                        <div class="elemento">
                            <img src="https://cdn-icons-png.flaticon.com/512/174/174857.png" width="50" alt="">
                            <input class="miLink" id="linkLinkendin" type="text" value="<%= it.usuario.linksUsuario.linkLinkendin %>" placeholder="LinkedLn">
                        </div>
                    </li>
                    <li class="red_social">
                        <div class="elemento">
                            <img src="https://avatars.githubusercontent.com/u/9919?s=200&v=4" width="50" alt="">
                            <input class="miLink" id="linkGithub" type="text" value="<%= it.usuario.linksUsuario.linkGithub %>" placeholder="GitHub">
                        </div>
                    </li>
                    <li class="red_social">
                        <div class="elemento">
                            <img src="https://cdn-icons-png.flaticon.com/512/1006/1006771.png" width="50" alt="">
                            <input class="miLink" id="linkPortafolioPersonal" type="text" value="<%= it.usuario.linksUsuario.linkPortafolioPersonal %>" placeholder="Portafolio">
                        </div>
                    </li>
                </ul>
            </div>
            <div class="resenas">
                <h3>Reseñas</h3>
                <% it.usuario.reseniasUsuario.forEach(function(resenia) { %>
                    <p><%= it.usuario.resenia.nombreUsuarioResenador %>: <%= it.usuario.resenia.contenidoResenia %> - Calificación: <%= it.usuario.resenia.calificacionResenia %></p>
                <% }); %>
            </div>
        </section>
        <%= it.footer %>

    <script src="../js_MiPerfil/basic.js"></script>
    <script src="../js_MiPerfil/editar_perfil.js"></script>

</body>
</html>